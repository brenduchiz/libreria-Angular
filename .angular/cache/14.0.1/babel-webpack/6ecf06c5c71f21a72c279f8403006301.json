{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/brmorales.STFMXC1451/Documents/Angular- course/tema3/libreria/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/users/users.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/toolbar\";\nimport * as i6 from \"@angular/material/table\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/paginator\";\nimport * as i9 from \"@angular/material/button\";\n\nfunction UsersListComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" Id \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersListComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r18.id, \" \");\n  }\n}\n\nfunction UsersListComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" Name \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersListComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r19.name, \" \");\n  }\n}\n\nfunction UsersListComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" Second Name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersListComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r20.secondLastName, \" \");\n  }\n}\n\nfunction UsersListComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" Last Name \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersListComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r21.lastName, \" \");\n  }\n}\n\nfunction UsersListComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" Email \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersListComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r22.email, \" \");\n  }\n}\n\nfunction UsersListComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 22);\n  }\n}\n\nfunction UsersListComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 21)(1, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_td_28_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const element_r23 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.pageEdit(element_r23.id));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction UsersListComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 22);\n  }\n}\n\nfunction UsersListComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 21)(1, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_td_31_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const element_r26 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.pagePassword(element_r26.id));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"key\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction UsersListComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 20);\n  }\n}\n\nfunction UsersListComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 21)(1, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_td_34_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const element_r29 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.disabledUser(element_r29.id));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction UsersListComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 26);\n  }\n}\n\nfunction UsersListComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 27);\n  }\n}\n\nconst _c0 = function () {\n  return [5, 10, 20];\n};\n\nexport class UsersListComponent {\n  constructor(userService, router, snackBar) {\n    this.userService = userService;\n    this.router = router;\n    this.snackBar = snackBar;\n    this.displayedColumns = ['id', 'name', 'secondLastName', 'lastName', 'email', 'edit', 'key', 'disabled'];\n  }\n\n  ngOnInit() {\n    this.users();\n  }\n\n  pagePassword(id) {\n    this.router.navigate(['/app/user-change/' + id]);\n  }\n\n  pageEdit(id) {\n    this.router.navigate(['/app/user-edit/' + id]);\n  }\n\n  addUser() {\n    this.router.navigate(['/app/user-add']);\n  }\n\n  users() {\n    this.userService.getUsers().subscribe(user => {\n      this.dataSource = new MatTableDataSource(user.data);\n      this.ngAfterViewInit();\n    });\n  }\n\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n  }\n\n  disabledUser(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const res = yield _this.userService.deleteDisabledUser(id);\n\n      _this.snackBar.open(res.message, '', {\n        duration: 3000,\n        verticalPosition: 'top'\n      });\n    })();\n  }\n\n}\n\nUsersListComponent.ɵfac = function UsersListComponent_Factory(t) {\n  return new (t || UsersListComponent)(i0.ɵɵdirectiveInject(i1.UsersService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n};\n\nUsersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersListComponent,\n  selectors: [[\"app-users-list\"]],\n  viewQuery: function UsersListComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(MatPaginator, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n    }\n  },\n  decls: 38,\n  vars: 5,\n  consts: [[1, \"container\", \"mt-3\"], [2, \"background-color\", \"#4cff75\"], [1, \"example-spacer\"], [\"mat-mini-fab\", \"\", \"color\", \"primary\", \"aria-label\", \"Example icon button with a menu icon\", 3, \"click\"], [1, \"mat-elevation-z8\"], [\"mat-table\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"secondLastName\"], [\"matColumnDef\", \"lastName\"], [\"matColumnDef\", \"email\"], [\"matColumnDef\", \"edit\"], [\"mat-header-cell\", \"\", \"style\", \"text-align: right;\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"key\"], [\"matColumnDef\", \"disabled\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", \"aria-label\", \"Select page of periodic elements\", 3, \"pageSizeOptions\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\", 2, \"text-align\", \"right\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", \"aria-label\", \"Example icon button with a vertical three dot icon\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"accent\", \"aria-label\", \"Example icon button with a vertical three dot icon\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", \"aria-label\", \"Example icon button with a vertical three dot icon\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function UsersListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-toolbar\", 1)(2, \"span\");\n      i0.ɵɵtext(3, \" Users \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"span\", 2);\n      i0.ɵɵelementStart(5, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_button_click_5_listener() {\n        return ctx.addUser();\n      });\n      i0.ɵɵelementStart(6, \"mat-icon\");\n      i0.ɵɵtext(7, \"add\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"mat-card\")(9, \"div\", 4)(10, \"table\", 5);\n      i0.ɵɵelementContainerStart(11, 6);\n      i0.ɵɵtemplate(12, UsersListComponent_th_12_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(13, UsersListComponent_td_13_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(14, 9);\n      i0.ɵɵtemplate(15, UsersListComponent_th_15_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(16, UsersListComponent_td_16_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(17, 10);\n      i0.ɵɵtemplate(18, UsersListComponent_th_18_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(19, UsersListComponent_td_19_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(20, 11);\n      i0.ɵɵtemplate(21, UsersListComponent_th_21_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(22, UsersListComponent_td_22_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(23, 12);\n      i0.ɵɵtemplate(24, UsersListComponent_th_24_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(25, UsersListComponent_td_25_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(26, 13);\n      i0.ɵɵtemplate(27, UsersListComponent_th_27_Template, 1, 0, \"th\", 14);\n      i0.ɵɵtemplate(28, UsersListComponent_td_28_Template, 4, 0, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(29, 15);\n      i0.ɵɵtemplate(30, UsersListComponent_th_30_Template, 1, 0, \"th\", 14);\n      i0.ɵɵtemplate(31, UsersListComponent_td_31_Template, 4, 0, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(32, 16);\n      i0.ɵɵtemplate(33, UsersListComponent_th_33_Template, 1, 0, \"th\", 7);\n      i0.ɵɵtemplate(34, UsersListComponent_td_34_Template, 4, 0, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(35, UsersListComponent_tr_35_Template, 1, 0, \"tr\", 17);\n      i0.ɵɵtemplate(36, UsersListComponent_tr_36_Template, 1, 0, \"tr\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(37, \"mat-paginator\", 19);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(4, _c0));\n    }\n  },\n  dependencies: [i4.MatIcon, i5.MatToolbar, i6.MatTable, i6.MatHeaderCellDef, i6.MatHeaderRowDef, i6.MatColumnDef, i6.MatCellDef, i6.MatRowDef, i6.MatHeaderCell, i6.MatCell, i6.MatHeaderRow, i6.MatRow, i7.MatCard, i8.MatPaginator, i9.MatButton],\n  styles: [\"table[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  width: 20%;\\n}\\n\\n.pointer[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.example-spacer[_ngcontent-%COMP%] {\\n  flex: 1 1 auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLWxpc3QuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcQW5ndWxhci0lMjBjb3Vyc2VcXHRlbWEzXFxsaWJyZXJpYVxcc3JjXFxhcHBcXHByaXZhdGVcXHVzZXJzXFx1c2Vycy1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtBQ0NKOztBREVFO0VBQ0UsVUFBQTtBQ0NKOztBREVFO0VBQ0UsZUFBQTtBQ0NKOztBREVFO0VBQ0UsY0FBQTtBQ0NKIiwiZmlsZSI6InVzZXJzLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcblxyXG4gIHRoe1xyXG4gICAgd2lkdGg6IDIwJTtcclxuICB9XHJcblxyXG4gIC5wb2ludGVye1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbiAgLmV4YW1wbGUtc3BhY2VyIHtcclxuICAgIGZsZXg6IDEgMSBhdXRvO1xyXG4gIH0iLCJ0YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG50aCB7XG4gIHdpZHRoOiAyMCU7XG59XG5cbi5wb2ludGVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uZXhhbXBsZS1zcGFjZXIge1xuICBmbGV4OiAxIDEgYXV0bztcbn0iXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["MatPaginator","MatTableDataSource","i0","UsersListComponent","constructor","userService","router","snackBar","ngOnInit","users","pagePassword","id","navigate","pageEdit","addUser","getUsers","subscribe","user","dataSource","data","ngAfterViewInit","paginator","disabledUser","res","deleteDisabledUser","open","message","duration","verticalPosition","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\brmorales.STFMXC1451\\Documents\\Angular- course\\tema3\\libreria\\src\\app\\private\\users\\users-list.component.ts","C:\\Users\\brmorales.STFMXC1451\\Documents\\Angular- course\\tema3\\libreria\\src\\app\\private\\users\\users-list.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { Users } from 'src/app/Interfaces/users';\nimport { UsersService } from 'src/app/services/users/users.service';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { Router } from '@angular/router';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-users-list',\n  templateUrl: './users-list.component.html',\n  styleUrls: ['./users-list.component.scss']\n})\nexport class UsersListComponent implements OnInit, AfterViewInit {\n  public userInfo: Users[] | undefined;\n  displayedColumns: string[] = ['id', 'name', 'secondLastName', 'lastName', 'email', 'edit', 'key', 'disabled'];\n  dataSource: any;\n\n\n\n  constructor(private userService: UsersService, private router: Router, private snackBar: MatSnackBar,) { }\n\n  ngOnInit(): void {\n    this.users()\n\n  }\n  pagePassword(id: number) {\n    this.router.navigate(['/app/user-change/' + id])\n  }\n\n  pageEdit(id: number) {\n    this.router.navigate(['/app/user-edit/' + id])\n  }\n  addUser() {\n\n    this.router.navigate(['/app/user-add'])\n  }\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n\n\n  users() {\n    this.userService.getUsers()\n      .subscribe(user => {\n\n        this.dataSource = new MatTableDataSource<Users>(user.data);\n\n        this.ngAfterViewInit()\n\n      });\n  }\n\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n  }\n\n  async disabledUser(id: number) {\n    const res = await this.userService.deleteDisabledUser(id)\n\n    this.snackBar.open(res.message, '', {\n\n      duration: 3000,\n\n      verticalPosition: 'top',\n\n    });\n\n\n  }\n\n}\n","<div class=\"container mt-3\">\n \n    <mat-toolbar style=\"background-color: #4cff75;\">\n      <span> Users </span> \n      <span class=\"example-spacer\"></span>\n      <button (click)=\"addUser()\" mat-mini-fab color=\"primary\" aria-label=\"Example icon button with a menu icon\">\n        <mat-icon>add</mat-icon>\n      </button>\n    </mat-toolbar>\n<mat-card>\n<div class=\"mat-elevation-z8\">\n    <table mat-table [dataSource]=\"dataSource\">\n  \n      <!-- Position Column -->\n      <ng-container matColumnDef=\"id\">\n        <th mat-header-cell *matHeaderCellDef> Id </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\n      </ng-container>\n  \n      <!-- Name Column -->\n      <ng-container matColumnDef=\"name\">\n        <th mat-header-cell *matHeaderCellDef> Name </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\n      </ng-container>\n  \n      <!-- Weight Column -->\n      <ng-container matColumnDef=\"secondLastName\">\n        <th mat-header-cell *matHeaderCellDef> Second Name</th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.secondLastName }} </td>\n      </ng-container>\n  \n      <!-- lastName Column -->\n      <ng-container matColumnDef=\"lastName\">\n        <th mat-header-cell *matHeaderCellDef> Last Name </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.lastName}} </td>\n      </ng-container>\n\n       <!-- email Column -->\n       <ng-container matColumnDef=\"email\">\n        <th mat-header-cell *matHeaderCellDef> Email </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.email}} </td>\n      </ng-container>\n      \n      <!-- edit Column -->\n      <ng-container matColumnDef=\"edit\">\n        <th mat-header-cell *matHeaderCellDef style=\"text-align: right;\"></th>\n        <td mat-cell *matCellDef=\"let element\">\n            <button mat-icon-button (click)=\"pageEdit(element.id)\" color=\"primary\" aria-label=\"Example icon button with a vertical three dot icon\">\n                <mat-icon>edit</mat-icon>\n              </button>          \n        </td>\n      </ng-container>\n       <!-- key Column -->\n       <ng-container matColumnDef=\"key\">\n        <th mat-header-cell *matHeaderCellDef style=\"text-align: right;\"></th>\n        <td mat-cell *matCellDef=\"let element\">\n          <button mat-icon-button (click)=\"pagePassword(element.id)\" color=\"accent\" aria-label=\"Example icon button with a vertical three dot icon\">\n            <mat-icon>key</mat-icon>\n          </button>     \n        </td>\n      </ng-container>\n          <!-- switch Column -->\n       <ng-container matColumnDef=\"disabled\">\n        <th mat-header-cell *matHeaderCellDef>  </th>\n        <td mat-cell *matCellDef=\"let element\"> \n          <button mat-icon-button (click)=\" disabledUser(element.id)\" color=\"warn\" aria-label=\"Example icon button with a vertical three dot icon\">\n            <mat-icon>delete</mat-icon>\n          </button>       \n        </td>\n      </ng-container>\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n    </table>\n  \n     <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\"\n                   showFirstLastButtons \n                   aria-label=\"Select page of periodic elements\">\n    </mat-paginator> \n  </div>\n</mat-card>\n</div>"]},"metadata":{},"sourceType":"module"}